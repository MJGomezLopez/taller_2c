<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Lista de Control</title>
    <link rel="stylesheet" th:href="@{/css/estilos.css}" />
    <style>
		.main-container {
		    display: flex;
		    width: 100%;
		    min-height: 100vh;
		}

		.sidebar {
		    width: 250px;
		    background-color: white;
		    box-shadow: 2px 0 10px rgba(0, 0, 0, 0.1);
		    padding: 20px 0;
		    box-sizing: border-box;
		}

		.sidebar h2 {
		    text-align: center;
		    color: #1976d2;
		    margin-bottom: 20px;
		}

		.sidebar ul {
		    list-style-type: none;
		    padding: 0;
		    margin: 0;
		}

		.sidebar ul li {
		    margin: 0;
		}

		.sidebar ul li a {
		    display: block;
		    width: 100%;
		    padding: 15px;
		    box-sizing: border-box;
		    background-color: white;
		    color: #1976d2;
		    text-decoration: none;
		    font-weight: bold;
		    text-align: left;
		    transition: background-color 0.2s ease;
		}

		.sidebar ul li a:hover {
		    background-color: #dbe9f6;
		}

		.content-area {
		    flex: 1;
		    padding: 20px;
		    position: relative;
		}

		.logout-button {
		    position: absolute;
		    top: 20px;
		    right: 20px;
		}

		.btn {
		    padding: 6px 10px;
		    font-size: 14px;
		    background-color: #1976d2;
		    color: white;
		    border: none;
		    cursor: pointer;
		    border-radius: 5px;
		    text-decoration: none;
		}

		.btn:hover {
		    background-color: #155a9c;
		}

		.btn-agregar {
		    background-color: #28a745;
		    float: right;
		}

		.btn-agregar:hover {
		    background-color: #218838;
		}

		table {
		    width: 100%;
		    border-collapse: collapse;
		    margin-top: 20px;
		    clear: both;
		}

		th, td {
		    border: 1px solid #ddd;
		    padding: 12px;
		    text-align: left;
		}

		th {
		    background-color: #1976d2;
		    color: white;
		}

		.btn-action {
		    margin-right: 5px;
		}
    </style>
</head>
<body>

<div class="main-container">
    <!-- Barra lateral -->
    <div class="sidebar">
        <h2>Menú</h2>
        <ul>
            <li><a th:href="@{/tecnicos}">Técnicos</a></li>
            <li><a th:href="@{/analistas}">Analistas</a></li>
            <li><a th:href="@{/muestras}">Muestras</a></li>
            <li><a th:href="@{/rutas}">Rutas</a></li>
            <li><a th:href="@{/puntosDeMuestreo}">Puntos de Muestreo</a></li>
            <li><a th:href="@{/listaControl}">Lista de Control</a></li>
        </ul>
    </div>

    <!-- Área de contenido -->
    <div class="content-area">
        <div class="logout-button">
            <a th:href="@{/}" class="btn">Cerrar sesión</a>
        </div>

        <h1 style="color: #1976d2;">Lista de Control</h1>
        <a th:href="@{/listaControl/nuevo}" class="btn btn-agregar">Agregar Registro</a>
        <br>

        <table>
            <thead>
                <tr>
                    <th>Fecha</th>
                    <th>Punto de Muestreo</th>
                    <th>Ruta</th>
                    <th>Técnico de Campo</th>
                    <th>Teléfono</th>
                    <th>Acciones</th>
                </tr>
            </thead>
            <tbody>
                <tr th:each="registro : ${registros}">
                    <td th:text="${#dates.format(registro.fecha, 'dd/MM/yyyy')}"></td>
                    <td th:text="${registro.punto.nombre}"></td>
                    <td th:text="${registro.ruta.nombre}"></td>
                    <td th:text="${registro.tecnico.nombre + ' ' + registro.tecnico.apellido}"></td>
                    <td th:text="${registro.tecnico.telefono}"></td>
                    <td>
                        <a th:href="@{'/listaControl/editar/' + ${registro.id}}" class="btn btn-action">Editar</a>
                        <a th:href="@{'/listaControl/eliminar/' + ${registro.id}}" class="btn btn-action" style="background-color: red;">Eliminar</a>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
</div>

</body>
</html>
